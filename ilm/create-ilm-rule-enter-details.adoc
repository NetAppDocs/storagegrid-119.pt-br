---
permalink: ilm/create-ilm-rule-enter-details.html 
sidebar: sidebar 
keywords: ILM rule step 1, define basics 
summary: 'A etapa 1 \(Inserir detalhes\) do assistente Criar uma regra ILM permite que você insira um nome e uma descrição para a regra e defina filtros para a regra.' 
---
= Etapa 1 de 3: Insira os detalhes
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
A etapa *Inserir detalhes* do assistente Criar uma regra ILM permite que você insira um nome e uma descrição para a regra e defina filtros para a regra.

Inserir uma descrição e definir filtros para a regra são opcionais.

.Sobre esta tarefa
Ao avaliar um objeto em relação a umlink:what-ilm-rule-is.html["Regra ILM"] O StorageGRID compara os metadados do objeto com os filtros da regra.  Se os metadados do objeto corresponderem a todos os filtros, o StorageGRID usará a regra para posicionar o objeto.  Você pode criar uma regra para aplicar a todos os objetos ou especificar filtros básicos, como uma ou mais contas de locatários ou nomes de buckets, ou filtros avançados, como o tamanho do objeto ou metadados do usuário.

.Passos
. Digite um nome exclusivo para a regra no campo *Nome*.
. Opcionalmente, insira uma breve descrição para a regra no campo *Descrição*.
+
Você deve descrever o propósito ou a função da regra para poder reconhecê-la mais tarde.

. Opcionalmente, selecione uma ou mais contas de locatário do S3 às quais esta regra se aplica.  Se esta regra se aplicar a todos os inquilinos, deixe este campo em branco.
+
Se você não tiver a permissão de acesso Root ou a permissão de contas de locatário, não poderá selecionar locatários da lista.  Em vez disso, insira o ID do locatário ou insira vários IDs como uma sequência de caracteres delimitada por vírgulas.

. Opcionalmente, especifique os buckets do S3 aos quais esta regra se aplica.
+
Se *aplica-se a todos os buckets* for selecionado (padrão), a regra será aplicada a todos os buckets do S3.

. Para locatários do S3, selecione opcionalmente *Sim* para aplicar a regra somente a versões mais antigas de objetos em buckets do S3 que tenham o controle de versão habilitado.
+
Se você selecionar *Sim*, "Horário não atual" será selecionado automaticamente para Tempo de referência emlink:create-ilm-rule-define-placements.html["Etapa 2 do assistente Criar uma regra ILM"] .

+

NOTE: O tempo não atual se aplica somente a objetos S3 em buckets habilitados para controle de versão. Verlink:../s3/operations-on-buckets.html["Operações em buckets, PutBucketVersioning"] elink:managing-objects-with-s3-object-lock.html["Gerenciar objetos com o S3 Object Lock"] .

+
Você pode usar esta opção para reduzir o impacto do armazenamento de objetos versionados filtrando por versões de objetos não atuais. Ver link:example-4-ilm-rules-and-policy-for-s3-versioned-objects.html["Exemplo 4: regras e políticas do ILM para objetos versionados do S3"] .

. Opcionalmente, selecione *Adicionar um filtro avançado* para especificar filtros adicionais.
+
Se você não configurar a filtragem avançada, a regra será aplicada a todos os objetos que corresponderem aos filtros básicos.  Para obter mais informações sobre filtragem avançada, consulte<<Usar filtros avançados em regras de ILM>> e<<Especifique vários tipos e valores de metadados>> .

. Selecione *Continuar*. link:create-ilm-rule-define-placements.html["Etapa 2 (Definir posicionamentos)"]do assistente Criar uma regra ILM é exibido.




== Usar filtros avançados em regras de ILM

A filtragem avançada permite que você crie regras de ILM que se aplicam somente a objetos específicos com base em seus metadados.  Ao configurar a filtragem avançada para uma regra, você seleciona o tipo de metadados que deseja corresponder, seleciona um operador e especifica um valor de metadados.  Quando os objetos são avaliados, a regra ILM é aplicada somente aos objetos que têm metadados correspondentes ao filtro avançado.

A tabela mostra os tipos de metadados que você pode especificar em filtros avançados, os operadores que você pode usar para cada tipo de metadados e os valores de metadados esperados.

[cols="1a,1a,2a"]
|===
| Tipo de metadados | Operadores suportados | Valor de metadados 


 a| 
Tempo de ingestão
 a| 
* é
* não é
* é antes
* está em ou antes
* é depois
* está ligado ou depois

 a| 
Hora e data em que o objeto foi ingerido.

*Observação:* para evitar problemas de recursos ao ativar uma nova política de ILM, você pode usar o filtro avançado Tempo de ingestão em qualquer regra que possa alterar a localização de um grande número de objetos existentes.  Defina o tempo de ingestão como maior ou igual ao tempo aproximado em que a nova política entrará em vigor para garantir que os objetos existentes não sejam movidos desnecessariamente.



 a| 
Chave
 a| 
* é igual a
* não é igual a
* contém
* não contém
* começa com
* não começa com
* termina com
* não termina com

 a| 
Toda ou parte de uma chave de objeto S3 exclusiva.

Por exemplo, você pode querer combinar objetos que terminam com `.txt` ou comece com `test-object/` .



 a| 
Último horário de acesso
 a| 
* é
* não é
* é antes
* está em ou antes
* é depois
* está ligado ou depois

 a| 
Hora e data em que o objeto foi recuperado pela última vez (lido ou visualizado).

*Nota:* Se você planejalink:using-last-access-time-in-ilm-rules.html["usar último horário de acesso"] como um filtro avançado, as atualizações de hora do último acesso devem ser habilitadas para o bucket S3.



 a| 
Restrição de localização (somente S3)
 a| 
* é igual a
* não é igual a

 a| 
A região onde um bucket S3 foi criado.  Use *ILM* > *Regiões* para definir as regiões que são mostradas.

*Observação:* Um valor de us-east-1 corresponderá a objetos em buckets criados na região us-east-1, bem como a objetos em buckets que não têm região especificada. Ver link:configuring-regions-optional-and-s3-only.html["Configurar regiões (opcional e somente S3)"] .



 a| 
Tamanho do objeto
 a| 
* é igual a
* não é igual a
* menor que
* menor ou igual a
* maior que
* maior ou igual a

 a| 
O tamanho do objeto.

A codificação de eliminação é mais adequada para objetos maiores que 1 MB.  Não use codificação de eliminação para objetos menores que 200 KB para evitar a sobrecarga de gerenciamento de fragmentos muito pequenos codificados por eliminação.



 a| 
Metadados do usuário
 a| 
* contém
* termina com
* é igual a
* existe
* começa com
* não contém
* não termina com
* não é igual a
* não existe
* não começa com

 a| 
Par chave-valor, onde *Nome dos metadados do usuário* é a chave e *Valor dos metadados* é o valor.

Por exemplo, para filtrar objetos que tenham metadados de usuário de `color=blue` , especifique `color` para *Nome de metadados do usuário*, `equals` para o operador, e `blue` para *Valor de metadados*.

*Observação:* Os nomes de metadados do usuário não diferenciam maiúsculas de minúsculas; os valores de metadados do usuário diferenciam maiúsculas de minúsculas.



 a| 
Tag de objeto (somente S3)
 a| 
* contém
* termina com
* é igual a
* existe
* começa com
* não contém
* não termina com
* não é igual a
* não existe
* não começa com

 a| 
Par chave-valor, onde *Nome da tag do objeto* é a chave e *Valor da tag do objeto* é o valor.

Por exemplo, para filtrar objetos que tenham uma tag de objeto de `Image=True` , especifique `Image` para *Nome da tag do objeto*, `equals` para o operador, e `True` para *valor da tag do objeto*.

*Observação:* Os nomes de tags de objeto e os valores de tags de objeto diferenciam maiúsculas de minúsculas.  Você deve inserir esses itens exatamente como foram definidos para o objeto.

|===


== Especifique vários tipos e valores de metadados

Ao definir a filtragem avançada, você pode especificar vários tipos de metadados e vários valores de metadados.  Por exemplo, se você quiser que uma regra corresponda a objetos entre 10 MB e 100 MB de tamanho, selecione o tipo de metadados *Tamanho do objeto* e especifique dois valores de metadados.

* O primeiro valor de metadados especifica objetos maiores ou iguais a 10 MB.
* O segundo valor de metadados especifica objetos menores ou iguais a 100 MB.


image::../media/advanced_filtering_size_between.png[Exemplo de filtragem avançada para tamanho de objeto]

Usar várias entradas permite que você tenha controle preciso sobre quais objetos são correspondidos.  No exemplo a seguir, a regra se aplica a objetos que têm Marca A ou Marca B como valor dos metadados do usuário camera_type.  No entanto, a regra só se aplica aos objetos da Marca B que são menores que 10 MB.

image::../media/advanced_filtering_multiple_rows.png[Exemplo de filtragem avançada para metadados do usuário]
