---
permalink: ilm/manage-erasure-coding-profiles.html 
sidebar: sidebar 
keywords: rename erasure-coding profile, ec profile 
summary: Você pode visualizar os detalhes de um perfil de codificação de eliminação e renomear um perfil, se necessário.  Você pode desativar um perfil de codificação de eliminação se ele não estiver sendo usado atualmente em nenhuma regra do ILM. 
---
= Gerenciar perfis de codificação de eliminação
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Você pode visualizar os detalhes de um perfil de codificação de eliminação e renomear um perfil, se necessário.  Você pode desativar um perfil de codificação de eliminação se ele não estiver sendo usado atualmente em nenhuma regra do ILM.

.Antes de começar
* Você está conectado ao Grid Manager usando umlink:../admin/web-browser-requirements.html["navegador da web compatível"] .
* Você tem olink:../admin/admin-group-permissions.html["permissões de acesso necessárias"] .




== Ver detalhes do perfil de codificação de eliminação

Você pode visualizar os detalhes de um perfil de codificação de eliminação para determinar seu status, o esquema de codificação de eliminação usado e outras informações.

.Passos
. Selecione *CONFIGURAÇÃO* > *Sistema* > *Codificação de eliminação*.
. Selecione o perfil.  A página de detalhes do perfil é exibida.
. Opcionalmente, visualize a guia Regras do ILM para obter uma lista de regras do ILM que usam o perfil e as políticas do ILM que usam essas regras.
. Opcionalmente, visualize a guia Nós de Armazenamento para obter detalhes sobre cada Nó de Armazenamento no pool de armazenamento do perfil, como o local onde ele está localizado e o uso do armazenamento.




== Renomear um perfil de codificação de eliminação

Talvez você queira renomear um perfil de codificação de eliminação para deixar mais óbvio o que o perfil faz.

.Passos
. Selecione *CONFIGURAÇÃO* > *Sistema* > *Codificação de eliminação*.
. Selecione o perfil que você deseja renomear.
. Selecione *Renomear*.
. Insira um nome exclusivo para o perfil de codificação de eliminação.
+
O nome do perfil de codificação de eliminação é anexado ao nome do pool de armazenamento na instrução de posicionamento de uma regra ILM.

+

NOTE: Os nomes de perfis de codificação de eliminação devem ser exclusivos.  Um erro de validação ocorre se você usar o nome de um perfil existente, mesmo que esse perfil tenha sido desativado.

. Selecione *Salvar*.




== Desativar um perfil de codificação de eliminação

Você pode desativar um perfil de codificação de eliminação se não planeja mais usá-lo e se o perfil não estiver sendo usado atualmente em nenhuma regra do ILM.


TIP: Confirme se não há operações de reparo de dados codificados para eliminação ou procedimentos de desativação em andamento.  Uma mensagem de erro será retornada se você tentar desativar um perfil de codificação de eliminação enquanto qualquer uma dessas operações estiver em andamento.

.Sobre esta tarefa
O StorageGRID impede que você desative um perfil de codificação de eliminação se qualquer uma das seguintes condições for verdadeira:

* O perfil de codificação de eliminação é usado atualmente em uma regra ILM.
* O perfil de codificação de eliminação não é mais usado em nenhuma regra ILM, mas dados de objeto e fragmentos de paridade para o perfil ainda existem.


.Passos
. Selecione *CONFIGURAÇÃO* > *Sistema* > *Codificação de eliminação*.
. Na guia Ativo, revise a coluna *Status* para confirmar se o perfil de codificação de eliminação que você deseja desativar não é usado em nenhuma regra do ILM.
+
Não é possível desativar um perfil de codificação de eliminação se ele for usado em qualquer regra do ILM.  No exemplo, o perfil 2+1 Data Center 1 é usado em pelo menos uma regra ILM.

+
image::../media/ec_profile_used_in_ilm_rule.png[Perfil EC usado na regra ILM]

. Se o perfil for usado em uma regra ILM, siga estas etapas:
+
.. Selecione *ILM* > *Regras*.
.. Selecione cada regra e revise o diagrama de retenção para determinar se a regra usa o perfil de codificação de eliminação que você deseja desativar.
.. Se a regra do ILM usar o perfil de codificação de eliminação que você deseja desativar, determine se a regra é usada em alguma política do ILM.
.. Conclua as etapas adicionais na tabela, com base em onde o perfil de codificação de eliminação é usado.
+
[cols="2a,4a,1a"]
|===
| Onde o perfil foi usado? | Etapas adicionais a serem executadas antes de desativar o perfil | Consulte estas instruções adicionais 


 a| 
Nunca usado em nenhuma regra ILM
 a| 
Não são necessárias etapas adicionais.  Continue com este procedimento.
 a| 
_Nenhum_



 a| 
Em uma regra ILM que nunca foi usada em nenhuma política ILM
 a| 
... Edite ou exclua todas as regras de ILM afetadas.  Se você editar a regra, remova todos os posicionamentos que usam o perfil de codificação de eliminação.
... Continue com este procedimento.

 a| 
link:working-with-ilm-rules-and-ilm-policies.html["Trabalhar com regras e políticas do ILM"]



 a| 
Em uma regra de ILM que está atualmente em uma política de ILM ativa
 a| 
... Clone a política.
... Remova a regra ILM que usa o perfil de codificação de eliminação.
... Adicione uma ou mais novas regras de ILM para garantir que os objetos estejam protegidos.
... Salve, simule e ative a nova política.
... Aguarde a aplicação da nova política e a movimentação dos objetos existentes para novos locais com base nas novas regras adicionadas.
+
*Observação:* Dependendo do número de objetos e do tamanho do seu sistema StorageGRID , pode levar semanas ou até meses para que as operações do ILM movam os objetos para novos locais, com base nas novas regras do ILM.

+
Embora você possa tentar desativar com segurança um perfil de codificação de eliminação enquanto ele ainda estiver associado aos dados, a operação de desativação falhará.  Uma mensagem de erro informará se o perfil ainda não estiver pronto para ser desativado.

... Edite ou exclua a regra que você removeu da política.  Se você editar a regra, remova todos os posicionamentos que usam o perfil de codificação de eliminação.
... Continue com este procedimento.

 a| 
link:creating-ilm-policy.html["Criar uma política de ILM"]

link:working-with-ilm-rules-and-ilm-policies.html["Trabalhar com regras e políticas do ILM"]



 a| 
Em uma regra de ILM que está atualmente em uma política de ILM
 a| 
... Edite a política.
... Remova a regra ILM que usa o perfil de codificação de eliminação.
... Adicione uma ou mais novas regras de ILM para garantir que todos os objetos estejam protegidos.
... Salve a política.
... Edite ou exclua a regra que você removeu da política.  Se você editar a regra, remova todos os posicionamentos que usam o perfil de codificação de eliminação.
... Continue com este procedimento.

 a| 
link:creating-ilm-policy.html["Criar uma política de ILM"]

link:working-with-ilm-rules-and-ilm-policies.html["Trabalhar com regras e políticas do ILM"]

|===
.. Atualize a página Perfis de codificação de eliminação para garantir que o perfil não seja usado em uma regra do ILM.


. Se o perfil não for usado em uma regra ILM, selecione o botão de opção e selecione *Desativar*.  A caixa de diálogo Desativar perfil de codificação de eliminação é exibida.
+

TIP: Você pode selecionar vários perfis para desativar ao mesmo tempo, desde que cada perfil não seja usado em nenhuma regra.

. Se tiver certeza de que deseja desativar o perfil, selecione *Desativar*.


.Resultados
* Se o StorageGRID conseguir desativar o perfil de codificação de eliminação, seu status será Desativado.  Você não pode mais selecionar este perfil para nenhuma regra do ILM.  Você não pode reativar um perfil desativado.
* Se o StorageGRID não conseguir desativar o perfil, uma mensagem de erro será exibida.  Por exemplo, uma mensagem de erro aparece se os dados do objeto ainda estiverem associados a este perfil.  Pode ser necessário esperar várias semanas antes de tentar o processo de desativação novamente.

