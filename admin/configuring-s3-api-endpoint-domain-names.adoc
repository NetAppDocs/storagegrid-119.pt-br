---
permalink: admin/configuring-s3-api-endpoint-domain-names.html 
sidebar: sidebar 
keywords: s3 endpoint domain names, virtual-hosted-style requests 
summary: Para dar suporte a solicitações de estilo de hospedagem virtual do S3, você deve usar o Grid Manager para configurar a lista de nomes de domínio de endpoint do S3 aos quais os clientes do S3 se conectam. 
---
= Configurar nomes de domínio de endpoint S3
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Para dar suporte a solicitações de estilo de hospedagem virtual do S3, você deve usar o Grid Manager para configurar a lista de nomes de domínio de endpoint do S3 aos quais os clientes do S3 se conectam.


CAUTION: Não há suporte para o uso de um endereço IP para um nome de domínio de ponto de extremidade.  Versões futuras impedirão essa configuração.

.Antes de começar
* Você está conectado ao Grid Manager usando umlink:../admin/web-browser-requirements.html["navegador da web compatível"] .
* Você temlink:../admin/admin-group-permissions.html["permissões de acesso específicas"] .
* Você confirmou que uma atualização de rede não está em andamento.
+

CAUTION: Não faça nenhuma alteração na configuração do nome de domínio quando uma atualização de grade estiver em andamento.



.Sobre esta tarefa
Para permitir que os clientes usem nomes de domínio de ponto de extremidade S3, você deve fazer tudo o seguinte:

* Use o Grid Manager para adicionar os nomes de domínio do endpoint S3 ao sistema StorageGRID .
* Assegurar que olink:../admin/configuring-administrator-client-certificates.html["certificado que o cliente usa para conexões HTTPS com o StorageGRID"] é assinado para todos os nomes de domínio que o cliente requer.
+
Por exemplo, se o ponto final for `s3.company.com` , você deve garantir que o certificado usado para conexões HTTPS inclua o `s3.company.com` ponto de extremidade e o nome alternativo do assunto (SAN) curinga do ponto de extremidade: `*.s3.company.com` .

* Configure o servidor DNS usado pelo cliente.  Inclua registros DNS para os endereços IP que os clientes usam para fazer conexões e garanta que os registros façam referência a todos os nomes de domínio de ponto de extremidade S3 necessários, incluindo quaisquer nomes curinga.
+

NOTE: Os clientes podem se conectar ao StorageGRID usando o endereço IP de um nó de gateway, um nó de administração ou um nó de armazenamento, ou conectando-se ao endereço IP virtual de um grupo de alta disponibilidade.  Você deve entender como os aplicativos clientes se conectam à grade para incluir os endereços IP corretos nos registros DNS.



Clientes que usam conexões HTTPS (recomendado) para a grade podem usar qualquer um destes certificados:

* Clientes que se conectam a um ponto de extremidade do balanceador de carga podem usar um certificado personalizado para esse ponto de extremidade.  Cada ponto de extremidade do balanceador de carga pode ser configurado para reconhecer diferentes nomes de domínio de ponto de extremidade S3.
* Os clientes que se conectam a um ponto de extremidade do balanceador de carga ou diretamente a um nó de armazenamento podem personalizar o certificado global da API do S3 para incluir todos os nomes de domínio de ponto de extremidade do S3 necessários.



NOTE: Se você não adicionar nomes de domínio de ponto de extremidade S3 e a lista estiver vazia, o suporte para solicitações de estilo de hospedagem virtual S3 será desabilitado.



== Adicionar um nome de domínio de ponto de extremidade S3

.Passos
. Selecione *CONFIGURAÇÃO* > *Rede* > *Nomes de domínio de ponto de extremidade S3*.
. Digite o nome do domínio no campo *Nome de domínio 1*.  Selecione *Adicionar outro nome de domínio* para adicionar mais nomes de domínio.
. Selecione *Salvar*.
. Certifique-se de que os certificados do servidor usados pelos clientes correspondam aos nomes de domínio do ponto de extremidade S3 necessários.
+
** Se os clientes se conectarem a um ponto de extremidade do balanceador de carga que usa seu próprio certificado,link:../admin/configuring-load-balancer-endpoints.html["atualizar o certificado associado ao ponto de extremidade"] .
** Se os clientes se conectarem a um ponto de extremidade do balanceador de carga que usa o certificado global da API S3 ou diretamente aos nós de armazenamento,link:../admin/use-s3-setup-wizard-steps.html["atualizar o certificado global da API S3"] .


. Adicione os registros DNS necessários para garantir que as solicitações de nome de domínio do endpoint possam ser resolvidas.


.Resultado
Agora, quando os clientes usam o ponto de extremidade `_bucket.s3.company.com_` , o servidor DNS resolve para o ponto de extremidade correto e o certificado autentica o ponto de extremidade conforme o esperado.



== Renomear um nome de domínio de ponto de extremidade S3

Se você alterar um nome usado pelos aplicativos S3, as solicitações no estilo de hospedagem virtual falharão.

.Passos
. Selecione *CONFIGURAÇÃO* > *Rede* > *Nomes de domínio de ponto de extremidade S3*.
. Selecione o campo de nome de domínio que deseja editar e faça as alterações necessárias.
. Selecione *Salvar*.
. Selecione *Sim* para confirmar sua alteração.




== Excluir um nome de domínio de ponto de extremidade S3

Se você remover um nome usado por aplicativos S3, as solicitações no estilo de hospedagem virtual falharão.

.Passos
. Selecione *CONFIGURAÇÃO* > *Rede* > *Nomes de domínio de ponto de extremidade S3*.
. Selecione o ícone de exclusãoimage:../media/icon-x-to-remove.png["ícone de exclusão"] ao lado do nome do domínio.
. Selecione *Sim* para confirmar a exclusão.


.Informações relacionadas
* link:../s3/index.html["Usar API REST do S3"]
* link:viewing-ip-addresses.html["Ver endereços IP"]
* link:configure-high-availability-group.html["Configurar grupos de alta disponibilidade"]

